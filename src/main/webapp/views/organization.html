<div>
    <div class="row">
        <div class="col-md-2">
            <button class="btn btn-default" ng-click="redirectToOverview()" translate="organization.backToOverview"></button>
        </div>
        <div class="text-right col-md-10">
            <button type="button" ng-show='showFollow() == true && isOwner() == false' class="btn btn-success ng-hide" ng-click="follow()">
                <span class="glyphicon glyphicon-plus"></span>
                <span translate="follow.button" class="ng-scope">Folgen</span>
            </button>
            <button type="button" ng-show='showUnfollow()' class="btn btn-danger ng-hide" ng-click="unfollow()">
                <span class="glyphicon glyphicon-minus"></span>
                <span translate="follow.button" class="ng-scope">Folgen</span>
            </button>
            <button class="btn btn-primary btn-success" ng-click='redirectToNewProject()' translate='organization.newproject' ng-show='isOwner()'>Create New Project</button>
            <button class="btn btn-primary" ng-click='redirectToEdit()' translate='general.edit' ng-show='isOwner()'>Edit</button>
        </div>
    </div>
    <div class="row spacer-top">
        <div class="col-md-4">
            <div class="col-xs-12">
                <h2><img src="https://cdn2.iconfinder.com/data/icons/windows-8-metro-style/48/deciduous_tree.png" alt="">{{organization.name}}</h2>
                <p ng-show='organization.isNpo'>NGO</p>
                <uploaded-image name="organization.logo.id" class="organization-logo" />
            </div>
            <div class="col-xs-12">
                <h2></h2>
                <dl class="dl-horizontal">
                    <dt>
                        <span translate='organization.responsiblePerson'>Responsible person</span>:</dt>
                    <dd>{{ organization.owner | formatUser }}</dd>
                    <dt>
                        <span translate='organization.contact'>Contact</span>:</dt>
                    <dd></dd>
                    <dt>
                        <span translate='organization.email'>E-Mail</span>:</dt>
                    <dd>{{ organization.email }}</dd>
                    <dt>
                        <span translate='organization.description'>Description</span>:</dt>
                    <dd>{{ organization.description }}</dd>
                </dl>
            </div>
            <div class="col-xs-12">
                <organization-members />
            </div>
            <div class="rating-container">
                <div class="row">
                    <div id="rating">
                        <span>{{ 'organization.rating' | translate }}</span>
                        <rating max="5" readonly="!canRate" on-leave="overStar = null"
                                ng-model="shownRating"></rating>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-8 newsfeed">
            <h3 translate="postingfeed.title">News</h3>
            <div ng-show="isOwner()">
                <label ng-show="facebookConnected"><input type="checkbox" ng-model="postOnFacebook"/>Auf Facebook posten</label>
                <label ng-show="twitterConnected"><input type="checkbox" ng-model="postOnTwitter"/>Auf Twitter posten</label>
                <label ng-show="xingConnected"><input type="checkbox" ng-model="postOnXing"/>Auf Xing posten</label>
            </div>

            <form name="postingform" role="form" novalidate class="ng-scope ng-invalid ng-invalid-required ng-dirty ng-valid-minlength" show-validation>
                <div class="form-group" ng-show="isOwner()">
                    <textarea class="form-control" name="postingInformation" type="text" placeholder="{{'posting.information.placeholder' | translate}}"
                          ng-minlength="5" ng-maxlength="2048" ng-model="postingInformation" required autocomplete="off" />
                    <button type="submit" class="btn btn-success" ng-disabled="postingform.$invalid" ng-click="addPosting()" translate="general.post">Postbutton</button>
                    <div ng-show="postingform.postingInformation.$dirty && postingform.postingInformation.$invalid">
                        <p class="help-block" ng-show="postingform.postingInformation.$error.minlength" translate="global.messages.validate.posting.minlength">
                            Your Posting is required to be at least 5 characters
                        </p>
                        <p class="help-block" ng-show="postingform.postingInformation.$error.maxlength" translate="global.messages.validate.posting.maxlength">
                            Your Posting is required to be at max 2048 characters
                        </p>
                        <p class="help-block" ng-show="postingform.postingInformation.$error.required" translate="global.messages.validate.posting.required">
                            Your Posting is required
                        </p>
                    </div>
                </div>
            </form>
            <div ng-repeat="posting in postings">
                <resp-posting value="posting" hide-organization="true"></resp-posting>
            </div>
            <a ng-click="showMorePostings()" translate="posting.showmore"
               ng-show="canShowMorePostings()">Show more</a>
            <hr/>
        </div>
    </div>
</div>
